System.register("chunks:///_virtual/Batsman.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var i,s;return{setters:[function(t){i=t.extends},function(t){s=t.cclegacy}],execute:function(){function e(t,i){return Math.round(Math.random()*(i-t))+t}s._RF.push({},"a48b9F5inBLwbfxuoFGFmHL","Batsman",void 0);t("default",function(){function t(){this.default_probabilities={zero:[35,90],one:[25,60],four:[20,80],six:[10,70]},this.probabilities=void 0,this.zero=void 0,this.one=void 0,this.four=void 0,this.six=void 0,this.scores=[],this.last_played="",this.turn_count=1,this.task_list=[],this.probabilities=i({},this.default_probabilities),this._new_probabilities()}var s=t.prototype;return s.play=function(t){var i=this;if(this._run_tasks(),this.last_played===t){var s=this.probabilities[t];this.probabilities[t]=[s[0]/2,s[1]/2];var n=this.turn_count+2;this.task_list.push((function(){i.turn_count==n&&(i.probabilities[t]=i.default_probabilities[t])}))}var r=e(0,100)<this[t];return this.scores.push(r?this._get_score(t):-1),this._new_probabilities(),this.last_played=t,this.turn_count++,r},s._get_score=function(t){switch(t){case"zero":return 0;case"one":return 1;case"four":return 4;case"six":return 6;default:return 0}},s._run_tasks=function(){var t=[];console.log(this.task_list);for(var i=0;i<this.task_list.length;i++){var s=this.task_list[i];s()||t.push(s)}this.task_list=t},s._new_probabilities=function(){this._new_zero(),this._new_one(),this._new_four(),this._new_six(),this._apply_guards()},s._apply_guards=function(){this.zero<=this.one&&this._new_zero(this.one+1)},s._new_zero=function(t,i){return this._new_probability("zero",t,i)},s._new_one=function(t,i){return this._new_probability("one",t,i)},s._new_four=function(t,i){return this._new_probability("four",t,i)},s._new_six=function(t,i){return this._new_probability("six",t,i)},s._new_probability=function(t,i,s){if(!i||!s){var n=this.probabilities[t];i=n[0],s=n[1]}s<=i&&(s=i+10),i=i<0?0:i,s=s>100?100:s,this[t]=e(i,s)},t}());s._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./Batsman.ts","./Main.ts"],(function(){"use strict";return{setters:[null,null],execute:function(){}}}));

System.register("chunks:///_virtual/Main.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Batsman.ts"],(function(t){"use strict";var i,o,n,e,s,a,r,h,l,b,p,u;return{setters:[function(t){i=t.applyDecoratedDescriptor,o=t.inheritsLoose,n=t.initializerDefineProperty,e=t.assertThisInitialized},function(t){s=t.cclegacy,a=t._decorator,r=t.Node,h=t.ProgressBar,l=t.Label,b=t.RichTextComponent,p=t.Component},function(t){u=t.default}],execute:function(){var c,m,g,y,S,d,f,C,_,B,v;s._RF.push({},"f538dwD7oRDDpmwpCIlGTAT","Main",void 0);var N=a.ccclass,P=a.property;t("Main",(c=N("Main"),m=P({type:r}),g=P({type:r}),y=P({type:r}),S=P({type:r}),c((C=i((f=function(t){function i(){for(var i,o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return i=t.call.apply(t,[this].concat(s))||this,n(i,"Shot0",C,e(i)),n(i,"Shot1",_,e(i)),n(i,"Shot4",B,e(i)),n(i,"Shot6",v,e(i)),i.batsman=void 0,i}o(i,t);var s=i.prototype;return s.start=function(){(this.batsman=new u,this.Shot0)&&this.Shot0.getChildByName("Button").on("click",this.onShot_0.bind(this));this.Shot1&&this.Shot1.getChildByName("Button").on("click",this.onShot_1.bind(this));this.Shot4&&this.Shot4.getChildByName("Button").on("click",this.onShot_4.bind(this));this.Shot6&&this.Shot6.getChildByName("Button").on("click",this.onShot_6.bind(this));this.update_probabilities()},s.update=function(t){},s.update_probabilities=function(){this.Shot0&&(this.Shot0.getChildByName("Probability").getComponent(h).progress=this.batsman.zero/100,this.Shot0.getChildByName("ProbabilityLabel").getComponent(l).string=this.batsman.zero+"%");this.Shot1&&(this.Shot1.getChildByName("Probability").getComponent(h).progress=this.batsman.one/100,this.Shot1.getChildByName("ProbabilityLabel").getComponent(l).string=this.batsman.one+"%");this.Shot4&&(this.Shot4.getChildByName("Probability").getComponent(h).progress=this.batsman.four/100,this.Shot4.getChildByName("ProbabilityLabel").getComponent(l).string=this.batsman.four+"%");this.Shot6&&(this.Shot6.getChildByName("Probability").getComponent(h).progress=this.batsman.six/100,this.Shot6.getChildByName("ProbabilityLabel").getComponent(l).string=this.batsman.six+"%")},s.onShot_0=function(){var t=this.batsman.play("zero");this.update_probabilities(),this.getComponent(b).string=this._scores()+"\n\n<center>"+(t?"Hit":"Miss")+"</center>"},s.onShot_1=function(){var t=this.batsman.play("one");this.update_probabilities(),this.getComponent(b).string=this._scores()+"\n\n"+(t?"Hit":"Miss")},s.onShot_4=function(){var t=this.batsman.play("four");this.update_probabilities(),this.getComponent(b).string=this._scores()+"\n\n"+(t?"Hit":"Miss")},s.onShot_6=function(){var t=this.batsman.play("six");this.update_probabilities(),this.getComponent(b).string=this._scores()+"\n\n"+(t?"Hit":"Miss")},s._scores=function(){var t=0,i=this.batsman.scores.map((function(i){return i>=0?(t+=i,i.toString()):" . "}));return"Score: "+t+"\n\n"+i.join(" - ")},i}(p)).prototype,"Shot0",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=i(f.prototype,"Shot1",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=i(f.prototype,"Shot4",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=i(f.prototype,"Shot6",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=f))||d));s._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});